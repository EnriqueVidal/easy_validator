$.fn.easy_validator=function(){$(".validatable").append(function(){cssClass=this.id;$(this).after('<label class="'+cssClass+'"></label>')});$(".presence_validation").each(function(){$(this).focusout(function(){if($(this).val()==""){$("."+this.id).text("You need to fill out this field!")}else{$("."+this.id).text("")}})});$(".email_validation").each(function(){$(this).focusout(function(){if(!$(this).val().match(/^[a-zA-Z0-9._+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/)){$("."+this.id).text("This is not a valid email!")}else{$("."+this.id).text("")}})});$(".phone_validation").each(function(){$(this).keypress(function(a){return validates_numericality(a,this)})});$(".numericality_validation").each(function(){$(this).keypress(function(a){return validates_numericality(a,this)})});$(".length_validation").each(function(){$(this).keypress(function(a){return validates_length(a,this)})});$(".custom_validation").each(function(){$(this).keypress(function(a){return custom_validation(a,this)})})};function custom_validation(f,b){var a;var c;var d;if(window.event){a=f.keyCode}else{if(f.which){a=f.which}}if(a==8||a==32||a==undefined){return true}if(b.getAttribute("data-expression")!=null){keychar=String.fromCharCode(a);d=new RegExp(b.getAttribute("data-expression"));return d.test(keychar)}return true}function validates_length(c,b){var a;if(b.getAttribute("data-min-length")!=null&&b.value.length<b.getAttribute("data-min-length")){$("."+b.id).text("You need to to write at least "+b.getAttribute("data-min-length")+" characters.")}else{$("."+b.id).text("")}if(window.event){a=c.keyCode}else{if(c.which){a=c.which}}if(a==8||a==32||a==undefined){return true}if(b.getAttribute("data-max-length")!=null){return(b.value.length<b.getAttribute("data-max-length"))?true:false}return true}function validates_numericality(f,b){var a;var c;var d;if(window.event){a=f.keyCode}else{if(f.which){a=f.which}}if(a==8||a==32||a==undefined){return true}keychar=String.fromCharCode(a);d=/^\d+$/;if(b.getAttribute("data-length")!=null){return(b.value.length<b.getAttribute("data-length"))?d.test(keychar):false}return d.text(keychar)};